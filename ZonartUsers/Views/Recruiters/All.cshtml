@using Microsoft.AspNetCore.Identity

@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager

<div class="container">
    <nav class="recruit-breadcrumb" aria-label="breadcrumb mt-5 mb-5">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a class="not-active" href="/RecruitZone/Index">Home</a></li>

            <li class="breadcrumb-item active" aria-current="page">Recruiters</li>
        </ol>
    </nav>
    <div class="section">
        <div class="row">
            <div class="recruiters-box col-lg-12">

                <div class="text-center">
                    <h2 id="tables">Recruiters</h2>
                </div>

                <form class="mx-auto w-50 mt-2" method="get">
                    <div class="form-group">
                        <div class="text-dark d-flex justify-content-center">
                            <label for="name" class="h4 mb-2">Filter Recruiters By Experience Level</label>
                        </div>
                        <input type="text" class="form-control" id="name" name="level" />

                    </div>
                    <div class="d-flex justify-content-center">
                        <button type="submit" class="btn btn-block btn-primary text-white" value="search">Search</button>
                    </div>
                </form>

                <div class="text-center mt-5">
                    @if (Model.Level <= 0)
                    {
        <h2 id="tables" class="text-info btn-light text-md-center p-2">All Recruiters</h2>}
                    @if (Model.Level > 0)
                    {
        <h2 id="tables" class="text-info btn-light text-md-center p-2">Recruiters with Experience Level @Model.Level</h2>}
                </div>

                <div class="component">
                    <table class="custom-table table table-hover">
                        <thead>
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Country</th>
                                <th scope="col">Experience Level</th>
                                <th scope="col">Candidates</th>
                                <th scope="col">Interviews</th>
                                <th scope="col">Free Slots</th>

                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var recruiter in Model.Recruiters)
                            {
                <tr class="table-light">
                    <th scope="row">@recruiter.Name</th>
                    <td>@recruiter.Country</td>
                    <td>@recruiter.ExperienceLevel</td>
                    <td>@recruiter.Candidates.Count</td>
                    <td>@recruiter.Interviews</td>
                    <td>@recruiter.FreeInterviewSlots</td>
                    <td>
                        <a class="btn btn-block btn-primary text-white mb-3" href="/Recruiters/Details?id=@recruiter.Id">Details</a>
                    </td>
                </tr>
}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<script>$(document).ready(function () {
        $(".active").removeClass("active");
        $("#recruit").addClass("active");
});</script>